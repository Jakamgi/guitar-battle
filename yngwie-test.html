<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>¬øCu√°nto Yngwie llevas dentro?</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap">

  <style>
    :root {
      --bg1: #0f0c29;
      --bg2: #302b63;
      --bg3: #24243e;
      --accent: #ff2e63;
      --accent2: #ff9f1c;
      --text: #f8f8ff;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 12px;
      box-sizing: border-box;
      color: var(--text);
      background: radial-gradient(circle at top, var(--bg2), var(--bg1), #000);
      background-size: 200% 200%;
      animation: bg-move 18s ease-in-out infinite;
      overflow-x: hidden;
    }

    @keyframes bg-move {
      0% { background-position: 0% 0%; }
      50% { background-position: 100% 100%; }
      100% { background-position: 0% 0%; }
    }

    .app {
      max-width: 900px;
      width: 100%;
    }

    .card {
      background: radial-gradient(circle at top,
                  rgba(255,255,255,0.06),
                  rgba(5,5,20,0.96));
      border-radius: 18px;
      padding: 22px 18px 20px;
      box-shadow: 0 18px 45px rgba(0,0,0,0.85);
      border: 1px solid rgba(255,255,255,0.12);
      backdrop-filter: blur(12px);
      animation: fadeIn 0.6s ease-out;
      position: relative;
      overflow: hidden;
    }

    .card::before {
      content: "";
      position: absolute;
      inset: -40%;
      background-image:
        linear-gradient(120deg, rgba(255,255,255,0.02) 1px, transparent 1px),
        linear-gradient(300deg, rgba(255,255,255,0.02) 1px, transparent 1px);
      background-size: 40px 40px;
      pointer-events: none;
      opacity: 0.6;
    }

    h1 {
      font-size: 1.7rem;
      margin: 0 0 6px;
      text-align: center;
      font-family: "Press Start 2P", system-ui, sans-serif;
      letter-spacing: 0.04em;
      text-shadow: 0 3px 0 #000;
      position: relative;
      z-index: 1;
    }

    .subtitle {
      text-align: center;
      opacity: 0.9;
      margin-bottom: 16px;
      font-size: 0.9rem;
      position: relative;
      z-index: 1;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 3px 10px;
      background: rgba(0,0,0,0.55);
      border: 1px solid rgba(255,255,255,0.2);
      border-radius: 999px;
      font-size: 0.75rem;
      position: relative;
      z-index: 1;
    }

    .center-row {
      display: flex;
      justify-content: center;
      margin-top: 10px;
      margin-bottom: 4px;
    }

    button {
      border-radius: 999px;
      border: none;
      padding: 9px 18px;
      font-size: 0.9rem;
      font-weight: 700;
      cursor: pointer;
      transition: transform 0.1s ease, box-shadow 0.12s ease, background 0.12s;
      position: relative;
      z-index: 1;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--accent2), var(--accent));
      color: #fff;
      box-shadow: 0 4px 18px rgba(255,46,99,0.7);
      text-shadow: 0 1px 0 #000;
    }

    .btn-primary:hover {
      transform: translateY(-1px) scale(1.01);
      box-shadow: 0 7px 26px rgba(255,46,99,0.9);
    }

    .btn-ghost {
      background: rgba(0,0,0,0.6);
      color: var(--text);
      border: 1px solid rgba(255,255,255,0.35);
    }

    .btn-ghost:hover {
      transform: translateY(-1px);
      background: rgba(255,255,255,0.08);
    }

    .questions {
      margin-top: 16px;
      display: flex;
      flex-direction: column;
      gap: 14px;
      position: relative;
      z-index: 1;
    }

    .round-title {
      font-size: 0.9rem;
      margin: 16px 0 6px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      opacity: 0.9;
      font-family: "Press Start 2P", system-ui, sans-serif;
      position: relative;
      z-index: 1;
    }

    .question {
      background: rgba(0,0,0,0.75);
      border-radius: 12px;
      padding: 10px 12px;
      border: 1px solid rgba(255,255,255,0.18);
      position: relative;
      z-index: 1;
    }

    .question-title {
      font-size: 0.92rem;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .question-sub {
      font-size: 0.8rem;
      opacity: 0.8;
      margin-bottom: 6px;
    }

    .option {
      display: flex;
      gap: 6px;
      margin: 4px 0;
      font-size: 0.84rem;
      cursor: pointer;
      align-items: flex-start;
    }

    .option input {
      margin-top: 2px;
      cursor: pointer;
    }

    .footer {
      margin-top: 18px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
      position: relative;
      z-index: 1;
    }

    .result {
      margin-top: 14px;
      border-radius: 12px;
      padding: 12px;
      background: rgba(5,199,120,0.1);
      border: 1px solid rgba(5,199,120,0.5);
      font-size: 0.9rem;
      position: relative;
      z-index: 1;
    }

    .ranking {
      margin-top: 16px;
      padding: 12px;
      border-radius: 12px;
      background: rgba(0,0,0,0.8);
      border: 1px solid rgba(255,255,255,0.25);
      font-size: 0.85rem;
      position: relative;
      z-index: 1;
    }

    .hidden {
      display: none !important;
    }

    /* Overlay resultado */
    .overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.78);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 999;
    }

    .overlay-card {
      background: radial-gradient(circle at top, #2a2a72, #000);
      border-radius: 18px;
      padding: 20px 18px;
      max-width: 420px;
      width: 90%;
      border: 1px solid rgba(255,255,255,0.35);
      box-shadow: 0 18px 45px rgba(0,0,0,0.9);
      text-align: center;
      position: relative;
      overflow: hidden;
      color: var(--text);
    }

    .overlay-emoji {
      font-size: 3rem;
      margin-bottom: 8px;
    }

    .overlay-title {
      font-family: "Press Start 2P", system-ui, sans-serif;
      font-size: 0.9rem;
      margin-bottom: 6px;
    }

    .overlay-text {
      font-size: 0.85rem;
      opacity: 0.95;
      margin-bottom: 8px;
    }

    .overlay-extra {
      font-size: 0.78rem;
      opacity: 0.8;
    }

    .confetti-piece {
      position: absolute;
      width: 6px;
      height: 12px;
      background: #ff2e63;
      top: -20px;
      animation: confetti-fall 1.4s linear forwards;
    }

    @keyframes confetti-fall {
      to {
        transform: translateY(260px) rotateZ(180deg);
        opacity: 0;
      }
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to   { opacity: 1; transform: translateY(0);   }
    }

    @media (max-width: 600px) {
      h1 { font-size: 1.35rem; }
      .question-title { font-size: 0.86rem; }
      .option { font-size: 0.8rem; }
    }
  </style>
</head>

<body>
<div class="app">

  <!-- PANTALLA INICIO -->
  <div class="card" id="startScreen">
    <div style="display:flex; justify-content:center; margin-bottom:12px; position:relative; z-index:1;">
      <img src="yngwie.jpg"
           alt="Imagen subida por el usuario"
           style="max-width:320px; width:100%; border-radius:14px; box-shadow:0 0 26px rgba(255,0,0,0.55);">
    </div>

    <div class="center-row">
      <span class="badge">üéÅ Juego-regalo para fans de Yngwie</span>
    </div>

    <h1>¬øCu√°nto Yngwie llevas dentro?</h1>
    <p class="subtitle">
      Test definitivo para saber si eres seguidor, devoto o sumo sacerdote del neocl√°sico.
    </p>

    <div class="center-row">
      <button id="btnStart" class="btn-primary">Empezar el test üî•</button>
    </div>

    <div class="center-row">
      <button id="btnShowRules" class="btn-ghost">¬øC√≥mo va esto?</button>
    </div>

    <div id="rules" class="result hidden">
      10 preguntas. A = opci√≥n ultra Yngwie, B = friki guitarrero razonable,
      C = respuesta troll/ca√≥tica. Al final vemos qu√© eliges m√°s y te decimos
      qu√© tipo de fan eres. No hay suspensos, solo risas.
    </div>
  </div>

  <!-- PANTALLA TEST -->
  <div class="card hidden" id="gameScreen">
    <h1>Test Yngwie Fan</h1>

    <!-- V√≠deo opcional para ambientar -->
    <div style="display:flex; justify-content:center; margin:14px 0; position:relative; z-index:1;">
      <div style="max-width:560px; width:100%; aspect-ratio:16/9;">
        <iframe
          style="width:100%; height:100%; border-radius:12px; border:none;"
          src="https://www.youtube.com/embed/rr9SEA3vIco"
          title="Video"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen></iframe>
      </div>
    </div>

    <p class="subtitle">
      Responde sin pensar demasiado. Esto va de pasarlo bien, no de sacar matr√≠cula.
    </p>

    <div id="questions" class="questions"></div>

    <div class="footer">
      <button id="btnResult" class="btn-primary">Ver mi resultado ü§ò</button>
      <button id="btnReset"  class="btn-ghost">Reiniciar</button>
      <button id="btnBack"   class="btn-ghost">Volver al inicio</button>
      <button id="btnCopy"   class="btn-ghost">Copiar resultado</button>
    </div>

    <div id="resultBox" class="result hidden"></div>

    <div style="display:flex; gap:8px; justify-content:center; margin-top:12px; position:relative; z-index:1;">
      <input id="playerName" type="text" placeholder="Nombre del fan"
             style="padding:6px 10px; border-radius:12px; border:1px solid rgba(255,255,255,0.4);
                    background:rgba(0,0,0,0.7); color:#fff;">
      <button id="btnSave" class="btn-primary">Guardar en ranking üèÜ</button>
    </div>

    <div id="ranking" class="ranking hidden">
      <strong>Ranking de la noche üèÜ</strong>
      <ol id="rankingList"></ol>
    </div>
  </div>

  <!-- OVERLAY RESULTADO -->
  <div id="resultOverlay" class="overlay hidden">
    <div class="overlay-card" id="overlayCard">
      <div id="overlayEmoji" class="overlay-emoji">üé∏</div>
      <div id="overlayTitle" class="overlay-title">Tu estilo</div>
      <p id="overlayText" class="overlay-text"></p>
      <p id="overlayExtra" class="overlay-extra"></p>
      <button id="btnCloseOverlay" class="btn-primary" style="margin-top:12px;">Cerrar</button>
    </div>
  </div>

</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  // Elementos
  const startScreen = document.getElementById("startScreen");
  const gameScreen  = document.getElementById("gameScreen");
  const btnStart    = document.getElementById("btnStart");
  const btnShowRules= document.getElementById("btnShowRules");
  const rules       = document.getElementById("rules");

  const questionsBox= document.getElementById("questions");
  const btnResult   = document.getElementById("btnResult");
  const btnReset    = document.getElementById("btnReset");
  const btnBack     = document.getElementById("btnBack");
  const btnCopy     = document.getElementById("btnCopy");
  const resultBox   = document.getElementById("resultBox");

  const playerName  = document.getElementById("playerName");
  const btnSave     = document.getElementById("btnSave");
  const rankingBox  = document.getElementById("ranking");
  const rankingList = document.getElementById("rankingList");

  const overlay      = document.getElementById("resultOverlay");
  const overlayCard  = document.getElementById("overlayCard");
  const overlayEmoji = document.getElementById("overlayEmoji");
  const overlayTitle = document.getElementById("overlayTitle");
  const overlayText  = document.getElementById("overlayText");
  const overlayExtra = document.getElementById("overlayExtra");
  const btnCloseOverlay = document.getElementById("btnCloseOverlay");

  // Navegaci√≥n
  btnStart.addEventListener("click", () => {
    startScreen.classList.add("hidden");
    gameScreen.classList.remove("hidden");
    window.scrollTo({ top: 0, behavior: "smooth" });
  });

  btnShowRules.addEventListener("click", () => {
    rules.classList.toggle("hidden");
  });

  btnBack.addEventListener("click", () => {
    gameScreen.classList.add("hidden");
    startScreen.classList.remove("hidden");
    overlay.classList.add("hidden");
    resultBox.classList.add("hidden");
    window.scrollTo({ top: 0, behavior: "smooth" });
  });

  // Preguntas
  const preguntasHTML = `
    <div class="round-title">Parte 1 ¬∑ Vida diaria de fan</div>

    <div class="question">
      <div class="question-title">1. El altar</div>
      <div class="question-sub">Tu habitaci√≥n ideal tiene...</div>
      <label class="option"><input type="radio" name="q1" value="A"> A) Una Strato crema escalopada en un pedestal con luz dorada.</label>
      <label class="option"><input type="radio" name="q1" value="B"> B) Varias guitarras, pedalboard serio y p√≥sters de varios guitarristas.</label>
      <label class="option"><input type="radio" name="q1" value="C"> C) Guitarra del pack del s√∫per, cervezas y un p√≥ster mal impreso.</label>
    </div>

    <div class="question">
      <div class="question-title">2. Ensayo con amigos</div>
      <div class="question-sub">Te dan un solo de 8 compases...</div>
      <label class="option"><input type="radio" name="q2" value="A"> A) Haces un solo de 3 minutos, dos modulaciones y arpegios absurdos.</label>
      <label class="option"><input type="radio" name="q2" value="B"> B) Solo guapo, con gusto y vuelves al riff.</label>
      <label class="option"><input type="radio" name="q2" value="C"> C) Te equivocas, haces ruidos, pero todos aplauden la actitud.</label>
    </div>

    <div class="question">
      <div class="question-title">3. El metr√≥nomo</div>
      <div class="question-sub">Tu relaci√≥n con √©l es...</div>
      <label class="option"><input type="radio" name="q3" value="A"> A) Es mi enemigo jurado. Si no explota, ha sido un buen d√≠a.</label>
      <label class="option"><input type="radio" name="q3" value="B"> B) Herramienta necesaria: a ratos amor, a ratos odio.</label>
      <label class="option"><input type="radio" name="q3" value="C"> C) ¬øMetr√≥‚Ä¶ qu√©? Yo toco encima de YouTube.</label>
    </div>

    <div class="question">
      <div class="question-title">4. La cita perfecta</div>
      <div class="question-sub">Plan ideal de cita:</div>
      <label class="option"><input type="radio" name="q4" value="A"> A) Concierto de Yngwie, volver a casa a ver DVD de Yngwie y comentar solos de Yngwie.</label>
      <label class="option"><input type="radio" name="q4" value="B"> B) Concierto de rock/metal y luego charla de m√∫sica y conciertos.</label>
      <label class="option"><input type="radio" name="q4" value="C"> C) Lo que sea, mientras no haya un solo de m√°s de 10 segundos.</label>
    </div>

    <div class="question">
      <div class="question-title">5. Gasolinera guitarrera</div>
      <div class="question-sub">Tienes pasta para un gran capricho:</div>
      <label class="option"><input type="radio" name="q5" value="A"> A) Strato crema + ampli brutal + rack neocl√°sico a volumen de avi√≥n.</label>
      <label class="option"><input type="radio" name="q5" value="B"> B) Buena guitarra vers√°til y equipo decente para tocar de todo.</label>
      <label class="option"><input type="radio" name="q5" value="C"> C) Viaje, comida y fiesta. Si aparece una guitarra, mejor.</label>
    </div>

    <div class="round-title">Parte 2 ¬∑ Ego, humor y caos</div>

    <div class="question">
      <div class="question-title">6. El ego en el escenario</div>
      <div class="question-sub">Alguien grita: ‚Äú¬°BAJA EL VOLUMEN!‚Äù</div>
      <label class="option"><input type="radio" name="q6" value="A"> A) Subes un poco m√°s. El solo no entiende de volumen.</label>
      <label class="option"><input type="radio" name="q6" value="B"> B) Sonr√≠es, bajas un pel√≠n y tocas algo m√°s musical.</label>
      <label class="option"><input type="radio" name="q6" value="C"> C) Le dedicas un solo experimental de ruidos y feedback.</label>
    </div>

    <div class="question">
      <div class="question-title">7. Clases de guitarra</div>
      <div class="question-sub">Das una clase a un principiante:</div>
      <label class="option"><input type="radio" name="q7" value="A"> A) Empiezo con escala arm√≥nica menor a 200 BPM. Que se acostumbre.</label>
      <label class="option"><input type="radio" name="q7" value="B"> B) Acordes b√°sicos, ritmo y teor√≠a sencilla.</label>
      <label class="option"><input type="radio" name="q7" value="C"> C) Lo importante son las caras que pongas al tocar.</label>
    </div>

    <div class="question">
      <div class="question-title">8. Tu frase favorita</div>
      <div class="question-sub">La que m√°s te representa es...</div>
      <label class="option"><input type="radio" name="q8" value="A"> A) ‚ÄúMore is more‚Äù.</label>
      <label class="option"><input type="radio" name="q8" value="B"> B) ‚ÄúSi sirve a la canci√≥n, est√° bien‚Äù.</label>
      <label class="option"><input type="radio" name="q8" value="C"> C) ‚ÄúSi me r√≠o, est√° bien‚Äù.</label>
    </div>

    <div class="question">
      <div class="question-title">9. Redes sociales</div>
      <div class="question-sub">Qu√© compartes m√°s:</div>
      <label class="option"><input type="radio" name="q9" value="A"> A) V√≠deos de solos imposibles y directos de guitarristas.</label>
      <label class="option"><input type="radio" name="q9" value="B"> B) Mezcla de m√∫sica, conciertos, memes y vida normal.</label>
      <label class="option"><input type="radio" name="q9" value="C"> C) Memes absurdos y fails de directos.</label>
    </div>

    <div class="question">
      <div class="question-title">10. Final de fiesta</div>
      <div class="question-sub">Son las 4 AM y alguien saca una guitarra:</div>
      <label class="option"><input type="radio" name="q10" value="A"> A) Arpegios a toda velocidad hasta que salga el sol.</label>
      <label class="option"><input type="radio" name="q10" value="B"> B) Temas que todos conozcan y alg√∫n solo para lucirse.</label>
      <label class="option"><input type="radio" name="q10" value="C"> C) Tres acordes, cantar a gritos y que sea lo que el metal quiera.</label>
    </div>
  `;

  questionsBox.innerHTML = preguntasHTML;

  // Contar respuestas A/B/C
  function contarRespuestas() {
    let A = 0, B = 0, C = 0;
    for (let i = 1; i <= 10; i++) {
      const sel = document.querySelector(`input[name="q${i}"]:checked`);
      if (!sel) return null;
      if (sel.value === "A") A++;
      if (sel.value === "B") B++;
      if (sel.value === "C") C++;
    }
    return { A, B, C };
  }

  // Determinar estilo seg√∫n afinidad
  function calcularEstilo() {
    const res = contarRespuestas();
    if (!res) return null;
    const { A, B, C } = res;
    const total = A + B + C;
    const pA = Math.round((A / total) * 100);
    const pB = Math.round((B / total) * 100);
    const pC = 100 - pA - pB;

    let estilo, texto, emoji;

    if (A > B && A > C) {
      estilo = "SUMO SACERDOTE DE YNGWIE";
      texto  = "Sabes m√°s de Yngwie que de tus propios familiares. Reconoces un sweep suyo con la tele apagada.";
      emoji  = "üî•";
    } else if (B > A && B > C) {
      estilo = "SHREDDER ILUSTRADO";
      texto  = "Adoras a Yngwie y al resto de dioses del m√°stil. Puedes discutir horas sobre calibres de cuerdas.";
      emoji  = "‚ö°";
    } else if (C > A && C > B) {
      estilo = "AGENTE DEL CAOS NEUTRAL";
      texto  = "No sabes si eres fan de Yngwie o de los memes sobre Yngwie. Has venido a re√≠rte y se nota.";
      emoji  = "üíÄ";
    } else {
      estilo = "FAN SANO CON BUEN HUMOR";
      texto  = "Te encantan los guitarristas, pero tambi√©n sabes re√≠rte de todo (incluido de ti mismo).";
      emoji  = "üé∏";
    }

    return { A, B, C, pA, pB, pC, estilo, texto, emoji };
  }

  // Confeti sencillo
  function lanzarConfeti() {
    overlayCard.querySelectorAll(".confetti-piece").forEach(el => el.remove());
    const colores = ["#ff2e63","#ff9f1c","#00f5d4","#f15bb5","#fee440"];
    for (let i = 0; i < 30; i++) {
      const piece = document.createElement("div");
      piece.className = "confetti-piece";
      piece.style.left = Math.random() * 100 + "%";
      piece.style.background = colores[Math.floor(Math.random() * colores.length)];
      piece.style.animationDelay = (Math.random() * 0.4) + "s";
      overlayCard.appendChild(piece);
    }
  }

  // Ver resultado
  btnResult.addEventListener("click", () => {
    const info = calcularEstilo();
    if (!info) {
      alert("Responde las 10 preguntas antes de ver el resultado.");
      return;
    }

    const { A, B, C, pA, pB, pC, estilo, texto, emoji } = info;

    resultBox.classList.remove("hidden");
    resultBox.innerHTML =
      `<strong>${estilo}</strong><br>` +
      `Has elegido A=${A}, B=${B}, C=${C}.<br>` +
      `<small>Yngwie ${pA}%, Shred ${pB}%, Caos ${pC}%.</small>`;

    overlayEmoji.textContent = emoji;
    overlayTitle.textContent = estilo;
    overlayText.textContent  = texto;
    overlayExtra.textContent = `Yngwie: ${pA}%, Shred: ${pB}%, Caos: ${pC}%.`;
    overlay.classList.remove("hidden");
    lanzarConfeti();
  });

  btnCloseOverlay.addEventListener("click", () => {
    overlay.classList.add("hidden");
  });

  // Reiniciar
  btnReset.addEventListener("click", () => {
    document.querySelectorAll('input[type="radio"]').forEach(r => r.checked = false);
    resultBox.classList.add("hidden");
    overlay.classList.add("hidden");
  });

  // Copiar resultado
  btnCopy.addEventListener("click", async () => {
    const info = calcularEstilo();
    if (!info || !navigator.clipboard) return;
    const texto =
      `Mi resultado en ‚Äú¬øCu√°nto Yngwie llevas dentro?‚Äù: ${info.estilo} ` +
      `(Yngwie ${info.pA}%, Shred ${info.pB}%, Caos ${info.pC}%) ü§ò`;
    try {
      await navigator.clipboard.writeText(texto);
      alert("Resultado copiado. P√©galo en el grupo y que empiece el pique.");
    } catch (e) {}
  });

  // Ranking
  const ranking = [];
  btnSave.addEventListener("click", () => {
    const info = calcularEstilo();
    if (!info) return;
    const nombre = (playerName.value || "Fan an√≥nimo").trim();
    ranking.push({ nombre, estilo: info.estilo });
    rankingList.innerHTML = ranking
      .map(p => `<li>${p.nombre} ‚Äì ${p.estilo}</li>`)
      .join("");
    rankingBox.classList.remove("hidden");
  });
});
</script>

</body>
</html>
