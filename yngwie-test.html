<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<title>¬øCu√°nto Yngwie llevas dentro?</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<!-- Tipograf√≠a moderna -->
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;500;700&display=swap" rel="stylesheet">

<style>
  :root {
    --bg: #0c0c0f;
    --panel: #15151a;
    --panel2: #1d1d23;
    --border: rgba(255,255,255,0.08);
    --text: #f2f2f7;
    --text-soft: #b9b9c6;
    --accent: #e63946;
    --accent-soft: #ff7b8a;
    font-family: 'Montserrat', sans-serif;
  }

  body {
    margin: 0;
    padding: 20px;
    background: var(--bg);
    color: var(--text);
    display: flex;
    justify-content: center;
  }

  .container {
    width: 100%;
    max-width: 820px;
  }

  .card {
    background: var(--panel);
    border: 1px solid var(--border);
    border-radius: 18px;
    padding: 24px 26px;
    box-shadow: 0 12px 40px rgba(0,0,0,0.4);
    animation: fadeIn 0.4s ease-out;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(8px); }
    to { opacity: 1; transform: translateY(0); }
  }

  h1 {
    text-align: center;
    font-weight: 700;
    margin-top: 0;
    margin-bottom: 10px;
    letter-spacing: 0.5px;
  }

  .subtitle {
    text-align: center;
    color: var(--text-soft);
    margin-bottom: 18px;
    font-size: 0.95rem;
  }

  img.hero {
    display:block;
    margin: 0 auto 18px auto;
    max-width: 260px;
    width: 90%;
    border-radius: 12px;
    box-shadow: 0 0 20px rgba(230,57,70,0.35);
  }

  button {
    padding: 12px 20px;
    border-radius: 10px;
    border: none;
    font-weight: 600;
    cursor: pointer;
    transition: 0.2s;
  }

  .btn-primary {
    background: var(--accent);
    color: white;
    width: 100%;
    margin-top: 10px;
  }

  .btn-primary:hover {
    background: var(--accent-soft);
  }

  .btn-outline {
    background: transparent;
    border: 1px solid var(--border);
    color: var(--text);
    width: 100%;
    margin-top: 10px;
  }

  .btn-outline:hover {
    border-color: var(--accent-soft);
    color: var(--accent-soft);
  }

  .hidden { display:none; }

  .question-block {
    background: var(--panel2);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 14px;
    margin-bottom: 16px;
  }

  .q-title { font-weight: 600; margin-bottom: 4px; }
  .q-sub   { font-size: 0.85rem; color: var(--text-soft); margin-bottom: 8px; }

  .option { 
    margin: 5px 0;
    display:flex;
    align-items:flex-start;
    gap:8px;
    cursor:pointer;
  }

  .result-box {
    background: var(--panel2);
    border-radius: 12px;
    padding: 18px;
    margin-top: 20px;
    border: 1px solid var(--border);
  }

  .overlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.75);
    display:flex;
    align-items:center;
    justify-content:center;
    z-index: 20;
  }

  .overlay-card {
    background: var(--panel);
    border: 1px solid var(--border);
    padding: 26px;
    border-radius: 16px;
    max-width: 380px;
    width: 88%;
    text-align: center;
    color: var(--text);
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    animation: fadeIn 0.3s ease-out;
  }

  .big-emoji {
    font-size: 2.8rem;
    margin-bottom: 10px;
  }

  input[type="text"] {
    width: 100%;
    margin-top: 14px;
    padding: 10px 12px;
    border-radius: 10px;
    border: 1px solid var(--border);
    background: var(--panel2);
    color: var(--text);
  }

  ol {
    padding-left: 20px;
    margin-top: 14px;
  }

</style>
</head>

<body>
<div class="container">

  <!-- üü• PANTALLA DE INICIO -->
  <div class="card" id="startScreen">

    <img src="yngwie.jpg" class="hero">

    <h1>¬øCu√°nto Yngwie llevas dentro?</h1>
    <p class="subtitle">
      El test definitivo para fans del neocl√°sico, el ego virtuoso y los
      solos que duran m√°s que algunas pel√≠culas.
    </p>

    <button class="btn-primary" id="btnStart">Empezar test</button>
    <button class="btn-outline" id="btnShowRules">¬øC√≥mo funciona?</button>

    <div id="rules" class="result-box hidden">
      10 preguntas.  
      A = ultra Yngwie  
      B = friki guitarrero razonable  
      C = caos / humor  
      <br><br>
      Ganas un t√≠tulo seg√∫n tu ‚Äúafinidad‚Äù.
    </div>
  </div>

  <!-- üü¶ PANTALLA DEL TEST -->
  <div class="card hidden" id="gameScreen">
    <h1>Test Yngwie</h1>
    <p class="subtitle">Marca lo que te salga del alma (o del m√°stil).</p>

    <div id="questions"></div>

    <button class="btn-primary" id="btnResult">Ver mi resultado ü§ò</button>
    <button class="btn-outline" id="btnReset">Reiniciar</button>
    <button class="btn-outline" id="btnBack">Volver al inicio</button>

    <div class="result-box hidden" id="resultBox"></div>

    <input type="text" id="playerName" placeholder="Tu nombre para el ranking">
    <button class="btn-primary" id="btnSave">Guardar en ranking üèÜ</button>

    <div class="result-box hidden" id="ranking">
      <strong>Ranking de la noche</strong>
      <ol id="rankingList"></ol>
    </div>
  </div>

  <!-- üü© OVERLAY FINAL -->
  <div class="overlay hidden" id="overlay">
    <div class="overlay-card">
      <div id="overlayEmoji" class="big-emoji">üé∏</div>
      <h2 id="overlayTitle"></h2>
      <p id="overlayText"></p>
      <p id="overlayExtra"></p>
      <button class="btn-primary" id="btnCloseOverlay">Cerrar</button>
    </div>
  </div>

</div>

<script>
document.addEventListener("DOMContentLoaded", () => {

  // Elementos
  const startScreen = document.getElementById("startScreen");
  const gameScreen  = document.getElementById("gameScreen");
  const btnStart    = document.getElementById("btnStart");
  const btnShowRules= document.getElementById("btnShowRules");
  const rules       = document.getElementById("rules");

  const questionsBox= document.getElementById("questions");
  const btnResult   = document.getElementById("btnResult");
  const btnReset    = document.getElementById("btnReset");
  const btnBack     = document.getElementById("btnBack");
  const resultBox   = document.getElementById("resultBox");

  const btnCopy     = document.getElementById("btnCopy");
  const playerName  = document.getElementById("playerName");
  const btnSave     = document.getElementById("btnSave");
  const rankingBox  = document.getElementById("ranking");
  const rankingList = document.getElementById("rankingList");

  const overlay     = document.getElementById("overlay");
  const overlayEmoji= document.getElementById("overlayEmoji");
  const overlayTitle= document.getElementById("overlayTitle");
  const overlayText = document.getElementById("overlayText");
  const overlayExtra= document.getElementById("overlayExtra");
  const btnCloseOverlay = document.getElementById("btnCloseOverlay");

  // Navegaci√≥n
  btnStart.onclick = () => {
    startScreen.classList.add("hidden");
    gameScreen.classList.remove("hidden");
    window.scrollTo({ top: 0 });
  };

  btnShowRules.onclick = () => {
    rules.classList.toggle("hidden");
  };

  btnBack.onclick = () => {
    gameScreen.classList.add("hidden");
    startScreen.classList.remove("hidden");
    overlay.classList.add("hidden");
    resultBox.classList.add("hidden");
  };

  // Preguntas HTML
  const preguntas = [
    ["El altar", "Tu habitaci√≥n ideal tiene...",
      "Una Strato crema escalopada con luz dorada",
      "Varias guitarras y pedalboard serio",
      "Pack del s√∫per + p√≥ster mal impreso"
    ],
    ["Ensayo con amigos", "Te dan un solo de 8 compases...",
      "Haces un solo √©pico de 3 minutos",
      "Haces un solo guapo y controlado",
      "Te equivocas pero la actitud lo salva"
    ],
    ["El metr√≥nomo", "Tu relaci√≥n con √©l...",
      "Es mi enemigo jurado",
      "Amor/odio profesional",
      "¬øQu√© metr√≥nomo?"
    ],
    ["La cita perfecta", "Plan ideal:",
      "Concierto Yngwie + DVD Yngwie + charla Yngwie",
      "Concierto rock y charla musical",
      "Nada con solos de m√°s de 10s"
    ],
    ["Capricho guitarrero", "Tienes pasta para un capricho:",
      "Strato crema + ampli brutal",
      "Guitarra vers√°til decente",
      "Viaje, fiesta y lo que surja"
    ],
    ["Ego en el escenario", "Alguien grita ‚Äú¬°BAJA EL VOLUMEN!‚Äù",
      "Subo m√°s: el solo manda",
      "Me controlo y toco musical",
      "Solo experimental ruidoso"
    ],
    ["Clases de guitarra", "A un principiante le ense√±as...",
      "Arm√≥nica menor a 200 BPM",
      "Acordes y teor√≠a b√°sica",
      "Caras √©picas mientras tocas"
    ],
    ["Frase favorita", "La que m√°s te representa...",
      "More is more",
      "Si sirve a la canci√≥n, vale",
      "Si me r√≠o, vale"
    ],
    ["Redes sociales", "Qu√© compartes m√°s...",
      "Solos imposibles",
      "M√∫sica + memes y vida normal",
      "Fails y memes absurdos"
    ],
    ["Final de fiesta", "Son las 4 AM, aparece una guitarra...",
      "Arpegios hasta el amanecer",
      "Canciones conocidas y alg√∫n solo",
      "Tres acordes y gritar"
    ]
  ];

  // Insertar preguntas
  questionsBox.innerHTML = preguntas.map((q, i) => `
    <div class="question-block">
      <div class="q-title">${i+1}. ${q[0]}</div>
      <div class="q-sub">${q[1]}</div>
      <label class="option"><input type="radio" name="q${i}" value="A"> A) ${q[2]}</label>
      <label class="option"><input type="radio" name="q${i}" value="B"> B) ${q[3]}</label>
      <label class="option"><input type="radio" name="q${i}" value="C"> C) ${q[4]}</label>
    </div>
  `).join("");

  // Contar respuestas
  function contar() {
    let A=0,B=0,C=0;
    for(let i=0;i<preguntas.length;i++){
      const sel=document.querySelector(`input[name="q${i}"]:checked`);
      if(!sel) return null;
      if(sel.value==="A") A++;
      if(sel.value==="B") B++;
      if(sel.value==="C") C++;
    }
    return {A,B,C};
  }

  // Determinar estilo
  function calcularEstilo({A,B,C}) {
    if(A>B && A>C) return ["üî• SUMO SACERDOTE DE YNGWIE",
      "Sabes m√°s de Yngwie que de tus propios familiares. Reconoces un sweep suyo con la tele apagada.",
      "üî•"];

    if(B>A && B>C) return ["‚ö° SHREDDER ILUSTRADO",
      "Amas a Yngwie pero aprecias a todo guitarrista top. Puedes discutir horas sobre calibres de cuerdas.",
      "‚ö°"];

    if(C>A && C>B) return ["üíÄ AGENTE DEL CAOS NEUTRAL",
      "Has venido por los memes, las risas y el caos sonoro. El mundo te necesita.",
      "üíÄ"];

    return ["üé∏ FAN SANO CON HUMOR",
      "Te encanta la m√∫sica, los guitarristas y las risas. Un equilibrio perfecto.",
      "üé∏"];
  }

  // Mostrar resultado
  btnResult.onclick = () => {
    const res=contar();
    if(!res){ alert("Responde todas las preguntas."); return; }

    const [titulo,texto,emoji] = calcularEstilo(res);

    resultBox.classList.remove("hidden");
    resultBox.innerHTML =
      `<strong>${titulo}</strong><br>
       A=${res.A}, B=${res.B}, C=${res.C}`;

    // Overlay bonito
    overlayEmoji.textContent = emoji;
    overlayTitle.textContent = titulo;
    overlayText.textContent  = texto;
    overlayExtra.textContent = `A=${res.A}, B=${res.B}, C=${res.C}`;
    overlay.classList.remove("hidden");
  };

  btnCloseOverlay.onclick = () => overlay.classList.add("hidden");
  btnReset.onclick        = () => {
    document.querySelectorAll("input[type=radio]").forEach(e=>e.checked=false);
    resultBox.classList.add("hidden");
  };

  // Ranking
  const ranking=[];
  btnSave.onclick = () => {
    const res=contar();
    if(!res) return;
    const [titulo]=calcularEstilo(res);
    const name=playerName.value||"Jugador";
    ranking.push({nombre:name,estilo:titulo});
    rankingList.innerHTML = ranking.map(r=>`<li>${r.nombre} ‚Äì ${r.estilo}</li>`).join("");
    rankingBox.classList.remove("hidden");
  };

});
</script>

</body>
</html>
